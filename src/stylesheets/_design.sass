body
  min-width: 320px
  font-weight: 700

.row
  +breakpoint(small2)
    padding:
      left: 1rem
      right: 1rem
  +breakpoint(medium)
    padding:
      left: 5vw
      right: 5vw
  +breakpoint(xlarge)
    padding:
      left: 6rem
      right: 6rem

i
  font-weight: 400




///////////////////////////////////////////////
////////////        HEADER         ////////////
///////////////////////////////////////////////
.logo
  font-size: 2rem
  font-weight: 700
  text-align: center
  margin:
    bottom: .5rem
    top: .5rem

  a
    color: $secondary-color

  +breakpoint(small2)
    text-align: left

  img
    padding-right: .5rem
    +breakpoint(small only)
      width: 125px
      display: block
      margin: 0 auto
      padding-top: 1rem

  +breakpoint(medium)
    margin:
      bottom: 1.5rem
      top: 1.5rem
    img
      padding-right: 1rem

  +breakpoint(xlarge)
    margin:
      bottom: 3rem
      top: 3rem
    img
      position: fixed
      margin:
        top: -1rem
        left: -6.25rem


///////////////////////////////////////////////
////////////        FOOTER         ////////////
///////////////////////////////////////////////
.footer
  background: $tertiary-color

  margin-top: 2rem
  padding:
    top: 2rem
    bottom: 2rem
  +breakpoint(medium)
    margin-top: 4rem
    padding:
      top: 4rem
      bottom: 4rem

  .content
    +grid-column(1 of 1)
    padding:
      left: $grid-column-gutter * 2.5
      right: $grid-column-gutter * 2.5

    +breakpoint(medium)
      +grid-column(1 of 2)

    h3
      font-size: 100%
    &:last-child
      h3
        padding-top: 1.33rem
    +breakpoint(medium)
      &:last-child
        h3
          padding-top: 0

    a
      display: block
      color: $white

    .copyright
      padding-top: 1.33rem

      a
        display: inline-block
        +breakpoint(small only)
          &:nth-of-type(1)
            width: 111px
            height: 17px
          &:nth-of-type(2)
            width: 58px
            height: 17px

      span
        vertical-align: middle
      img
        padding:
          left: 0.25rem
          right: 0.25rem
        +breakpoint(small2)
          width: 100%
        +breakpoint(medium)
          padding:
            left: 0.25rem
            right: 0.25rem
        +breakpoint(large)
          padding:
            left: 0.5rem
            right: 0.5rem

  // Footer hax so ooo logo doesn't fall into line 2
  +breakpoint(medium only)
    .row
      overflow: hidden
    .copyright
      width: 55vw
      overflow: hidden



///////////////////////////////////////////////
//////////         ANIMATIONS         /////////
///////////////////////////////////////////////

// Spinner - typing now animation
.spinner
  width: 90px
  text-align: center

  .bounce1, .bounce2, .bounce3
    float: left
    width: 10px
    height: 10px
    padding: 0 !important
    margin: 2px
    border-radius: 100%
    display: inline-block
    -webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out both
    animation: sk-bouncedelay 1.4s infinite ease-in-out both

  .bounce1
    -webkit-animation-delay: -0.32s
    animation-delay: -0.32s

  .bounce2
    -webkit-animation-delay: -0.16s
    animation-delay: -0.16s

.spinner.bot
  .bounce1, .bounce2, .bounce3
    background-color: white

.spinner.user
  .bounce1, .bounce2, .bounce3
    background-color: #0976F2

@-webkit-keyframes sk-bouncedelay
  0%, 80%, 100%
    -webkit-transform: scale(0)

  40%
    -webkit-transform: scale(1)

@keyframes sk-bouncedelay
  0%, 80%, 100%
    -webkit-transform: scale(0)
    transform: scale(0)

  40%
    -webkit-transform: scale(1)
    transform: scale(1)



// Convo chat bubble appear animation
// https://goo.gl/wmFd9d
@keyframes appear
  0%
    opacity: 0
    transform: matrix3d(0.75, 0, 0, 0, 0, 0.75, 0, 0, 0, 0, 1, 0, 0, 40, 0, 1)
  2.4%
    transform: matrix3d(0.831, 0, 0, 0, 0, 0.831, 0, 0, 0, 0, 1, 0, 0, 26.697, 0, 1)
  3.2%
    transform: matrix3d(0.852, 0, 0, 0, 0, 0.852, 0, 0, 0, 0, 1, 0, 0, 23.324, 0, 1)
  4.73%
    transform: matrix3d(0.885, 0, 0, 0, 0, 0.885, 0, 0, 0, 0, 1, 0, 0, 18.021, 0, 1)
  6.31%
    transform: matrix3d(0.911, 0, 0, 0, 0, 0.911, 0, 0, 0, 0, 1, 0, 0, 13.798, 0, 1)
  9.38%
    transform: matrix3d(0.947, 0, 0, 0, 0, 0.947, 0, 0, 0, 0, 1, 0, 0, 8.178, 0, 1)
  9.41%
    transform: matrix3d(0.947, 0, 0, 0, 0, 0.947, 0, 0, 0, 0, 1, 0, 0, 8.143, 0, 1)
  12.51%
    transform: matrix3d(0.968, 0, 0, 0, 0, 0.968, 0, 0, 0, 0, 1, 0, 0, 4.794, 0, 1)
  14.11%
    transform: matrix3d(0.976, 0, 0, 0, 0, 0.976, 0, 0, 0, 0, 1, 0, 0, 3.643, 0, 1)
  18.77%
    transform: matrix3d(0.989, 0, 0, 0, 0, 0.989, 0, 0, 0, 0, 1, 0, 0, 1.635, 0, 1)
  18.82%
    transform: matrix3d(0.989, 0, 0, 0, 0, 0.989, 0, 0, 0, 0, 1, 0, 0, 1.621, 0, 1)
  25.03%
    transform: matrix3d(0.996, 0, 0, 0, 0, 0.996, 0, 0, 0, 0, 1, 0, 0, 0.552, 0, 1)
  28.15%
    transform: matrix3d(0.998, 0, 0, 0, 0, 0.998, 0, 0, 0, 0, 1, 0, 0, 0.319, 0, 1)
  37.54%
    opacity: 1
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0.061, 0, 1)
  50.05%
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0.006, 0, 1)
  75%
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  100%
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)


// Fade in animation
@keyframes fadein
  0%
    opacity: 0
  100%
    opacity: 1


////////////////////////////
//// SVG ILLUSTRATIONS  ////
////////////////////////////

// All illustrated characters and their shadows/limbs
.shown
  & #modelcek-1
    animation: modelcek-1 3000ms cubic-bezier(0.5, 0, 0.5, 1) alternate
    animation-iteration-count: 6
    animation-fill-mode: forwards
  & #modelcek-2
    animation: modelcek-2 3000ms cubic-bezier(0.5, 0, 0.5, 1) alternate
    animation-iteration-count: 6
    animation-fill-mode: forwards
    animation-delay: 200ms
  & #modelcek-3
    animation: modelcek-3 3000ms cubic-bezier(0.5, 0, 0.5, 1) alternate
    animation-iteration-count: 6
    animation-fill-mode: forwards
  & #modelcek-4
    animation: modelcek-4 3000ms cubic-bezier(0.5, 0, 0.5, 1) alternate
    animation-iteration-count: 6
    animation-fill-mode: forwards
  & #shadow-1, & #shadow-2, & #shadow-3, & #shadow-4
    animation: shadows 3000ms cubic-bezier(0.5, 0, 0.5, 1) alternate
    animation-iteration-count: 6
    animation-fill-mode: forwards
    transform-origin: center center
  & #haend-1
    animation: haend-1 3000ms cubic-bezier(0.6, 0, 0.6, 1) alternate
    animation-iteration-count: 6
    animation-fill-mode: forwards
    transform-origin: left bottom
  & #haend-2
    animation: haend-2 500ms cubic-bezier(0.32, 0.04, 0.57, 1.26) alternate
    animation-iteration-count: 1
    animation-fill-mode: forwards
    animation-delay: 1000ms
    transform: translate3d(258px, 92px, 0px) rotate(90deg)
    transform-origin: left bottom
  & #haend-3
    animation: haend-3 500ms cubic-bezier(0.32, 0.04, 0.57, 1.26) alternate
    animation-iteration-count: 1
    animation-fill-mode: forwards
    transform: translate3d(123px, 180px, 0px) rotate(-80deg)
    transform-origin: right bottom

@keyframes modelcek-1
  0%
    transform: translate3d(76px, 55px, 0px)
  100%
    transform: translate3d(76px, 65px, 0px)

@keyframes modelcek-2
  0%
    transform: translate3d(235px, 70px, 0px)
  100%
    transform: translate3d(235px, 90px, 0px)

@keyframes modelcek-3
  0%
    transform: translate3d(400px, 57px, 0px)
  100%
    transform: translate3d(400px, 70px, 0px)

@keyframes modelcek-4
  0%
    transform: translate3d(62px, 62px, 0px)
  100%
    transform: translate3d(62px, 80px, 0px)

@keyframes shadows
  0%
    transform: scale(0.66)
    opacity: 0.5
  100%
    transform: scale(1)
    opacity: 1

@keyframes haend-1
  0%
    transform: translate3d(47px, 7px, 0px) rotate(2deg)
  100%
    transform: translate3d(47px, 7px, 0px) rotate(-5deg)

@keyframes haend-2
  0%
    transform: translate3d(258px, 92px, 0px) rotate(90deg)
  100%
    transform: translate3d(258px, 92px, 0px) rotate(0deg)

@keyframes haend-3
  0%
    transform: translate3d(123px, 180px, 0px) rotate(-80deg)
  100%
    transform: translate3d(93px, 180px, 0px) rotate(0deg)


// Illustrated character eyes
.shown
  & #oko-1, & #oko-2
    animation: oko 2000ms cubic-bezier(0.5, 0, 0.5, 1)
    animation-iteration-count: 4
    animation-fill-mode: forwards
.shown
  & #oko-3, & #oko-4
    animation: oko-2 1500ms linear
    animation-iteration-count: 1
    animation-fill-mode: forwards

@keyframes oko
  0%
    transform: translate3d(5px, 0px, 0px)
  5%
    transform: translate3d(5px, 0px, 0px)
  95%
    transform: translate3d(-5px, 0px, 0px)
  97%
    transform: translate3d(-5px, 0px, 0px)
  100%
    transform: translate3d(5px, 0px, 0px)

@keyframes oko-2
  0%
    transform: translate3d(-8px, 18px, 0px)
  10%
    transform: translate3d(-8px, 18px, 0px)
  15%
    transform: translate3d(-16px, 12px, 0px)
  65%
    transform: translate3d(-16px, 12px, 0px)
  70%
    transform: translate3d(0px, 3px, 0px)
  100%
    transform: translate3d(0px, 3px, 0px)



// Illustrated shumniki
.shown
  & #shumnik-1, & #shumnik-2, & #shumnik-3
    animation: twirl 3000ms linear infinite both
    animation-iteration-count: 1
    transform-origin: center center
  & #shumnik-1
    animation-delay: 250ms
  & #shumnik-2
    animation-delay: 500ms
  & #shumnik-3
    animation-delay: 750ms


@keyframes twirl
  0%
    transform: matrix3d(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  1.43%
    transform: matrix3d(0.063, 0.51, 0, 0, -0.51, 0.063, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  2.87%
    transform: matrix3d(-0.801, 0.361, 0, 0, -0.361, -0.801, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  4.1%
    transform: matrix3d(-0.908, -0.502, 0, 0, 0.502, -0.908, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  4.3%
    transform: matrix3d(-0.844, -0.628, 0, 0, 0.628, -0.844, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  5.74%
    transform: matrix3d(-0.086, -1.09, 0, 0, 1.09, -0.086, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  8.11%
    transform: matrix3d(0.827, -0.646, 0, 0, 0.646, 0.827, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  9.44%
    transform: matrix3d(0.975, -0.302, 0, 0, 0.302, 0.975, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  12.11%
    transform: matrix3d(0.988, 0.115, 0, 0, -0.115, 0.988, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  13.15%
    transform: matrix3d(0.975, 0.193, 0, 0, -0.193, 0.975, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  16.12%
    transform: matrix3d(0.961, 0.268, 0, 0, -0.268, 0.961, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  20.55%
    transform: matrix3d(0.982, 0.192, 0, 0, -0.192, 0.982, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  27.23%
    transform: matrix3d(0.999, 0.049, 0, 0, -0.049, 0.999, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  27.99%
    transform: matrix3d(0.999, 0.039, 0, 0, -0.039, 0.999, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  33.33%
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  38.34%
    transform: matrix3d(1, -0.007, 0, 0, 0.007, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  60.56%
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  82.78%
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
  100%
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)



.shown
  & #modelcek-5
    animation: stretch 1000ms linear both
    animation-iteration-count: 1
    animation-fill-mode: forwards
    animation-delay: 1500ms

    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 300, 0, 1) translate3d(57px, 31px, 0)


@keyframes stretch
  0%
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 300, 0, 1) translate3d(57px, 31px, 0)
  1.95%
    transform: matrix3d(1, 0, 0, 0, 0, 3.905, 0, 0, 0, 0, 1, 0, 0, 207.948, 0, 1) translate3d(57px, 31px, 0)
  3.83%
    transform: matrix3d(1, 0, 0, 0, 0, 4.554, 0, 0, 0, 0, 1, 0, 0, 135.135, 0, 1) translate3d(57px, 31px, 0)
  4.1%
    transform: matrix3d(1, 0, 0, 0, 0, 4.544, 0, 0, 0, 0, 1, 0, 0, 125.912, 0, 1) translate3d(57px, 31px, 0)
  8.11%
    transform: matrix3d(1, 0, 0, 0, 0, 3.226, 0, 0, 0, 0, 1, 0, 0, 31.647, 0, 1) translate3d(57px, 31px, 0)
  8.56%
    transform: matrix3d(1, 0, 0, 0, 0, 3.039, 0, 0, 0, 0, 1, 0, 0, 25.15, 0, 1) translate3d(57px, 31px, 0)
  12.11%
    transform: matrix3d(1, 0, 0, 0, 0, 1.833, 0, 0, 0, 0, 1, 0, 0, -5.53, 0, 1) translate3d(57px, 31px, 0)
  13.21%
    transform: matrix3d(1, 0, 0, 0, 0, 1.581, 0, 0, 0, 0, 1, 0, 0, -9.543, 0, 1) translate3d(57px, 31px, 0)
  16.12%
    transform: matrix3d(1, 0, 0, 0, 0, 1.162, 0, 0, 0, 0, 1, 0, 0, -13.007, 0, 1) translate3d(57px, 31px, 0)
  17.94%
    transform: matrix3d(1, 0, 0, 0, 0, 1.034, 0, 0, 0, 0, 1, 0, 0, -12.109, 0, 1) translate3d(57px, 31px, 0)
  22.6%
    transform: matrix3d(1, 0, 0, 0, 0, 0.947, 0, 0, 0, 0, 1, 0, 0, -6.726, 0, 1) translate3d(57px, 31px, 0)
  27.23%
    transform: matrix3d(1, 0, 0, 0, 0, 0.969, 0, 0, 0, 0, 1, 0, 0, -2.352, 0, 1) translate3d(57px, 31px, 0)
  38.34%
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0.311, 0, 1) translate3d(57px, 31px, 0)
  41.37%
    transform: matrix3d(1, 0, 0, 0, 0, 1.001, 0, 0, 0, 0, 1, 0, 0, 0.261, 0, 1) translate3d(57px, 31px, 0)
  60.14%
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.007, 0, 1) translate3d(57px, 31px, 0)
  60.56%
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.007, 0, 1) translate3d(57px, 31px, 0)
  75%
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1) translate3d(57px, 31px, 0)
  82.78%
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1) translate3d(57px, 31px, 0)
  100%
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1) translate3d(57px, 31px, 0)








///////////////////////////////////////////////
////////////         CONVO         ////////////
///////////////////////////////////////////////

.column.convo
  +breakpoint(small only)
    padding:
      left: $grid-column-gutter
      right: $grid-column-gutter

.bubble, .link, .linklist, .spinner
  float: left
  clear: both
  visibility: hidden

  svg
    max-width: 100%
    height: 100%

.bubble, .link, .linklist, .spinner, #inputblock input, #inputblock a
  margin: ($grid-column-gutter/2) 0
  border-radius: $global-radius
  padding: ($grid-column-gutter * 1.2) ($grid-column-gutter * 1.5)

.bubble, .link, .linklist
  &.shown
    visibility: visible
    animation: appear 1000ms linear both

.linklist
  &.shown
    visibility: visible
    li:nth-of-type(1)
      animation: appear 1000ms linear both
      animation-delay: 300ms
    li:nth-of-type(2)
      animation: appear 1000ms linear both
      animation-delay: 600ms
    li:nth-of-type(3)
      animation: appear 1000ms linear both
      animation-delay: 900ms


.spinner
  position: absolute

.spinner.shown
  visibility: visible
  animation: fadein 300ms linear

.link
  background: $secondary-color

.linklist
  +grid-row
  padding: 0
  list-style: none
  width: 90%
  +breakpoint(medium)
    width: calc(75% + #{$grid-column-gutter})
    margin-left: ($grid-column-gutter / -2)
  +breakpoint(large)
    width: calc(66% + #{$grid-column-gutter})


  li
    +grid-column (1 of 1)
    padding:
      left: 0
      right: 0
      bottom: $grid-column-gutter
    &:last-of-type
      padding-bottom: 0

    +breakpoint(medium)
      +grid-column (1 of 3)
      padding-bottom: 0

    a
      border-radius: $global-radius
      background: $secondary-color
      color: $secondary-color
      display: list-item
      text-decoration: none
      color: #0976F2

      div
        padding: $grid-column-gutter

        img
          width: 100%
          margin: 0 0 10px 0

.link a
  color: #0976F2
  text-decoration: none

  &:visited
    color: #0976F2
    text-decoration: none

  &:hover
    text-decoration: underline

.chatblock, #inputblock, .spinnerblock
  display: block
  width: 100%
  clear: both
  position: relative
  padding:
    top: $grid-column-gutter
    bottom: $grid-column-gutter

  img
    width: 80%
    margin: 10% auto
    display: block

.chatblock.user .bubble.shown:first-child:before
  display: block
  position: absolute
  content: ' '
  width: 0
  height: 0
  border-top: 10px solid transparent
  border-bottom: 10px solid transparent
  border-left: 10px solid white
  right: -9px
  top: 17px

.chatblock.bot .bubble.shown:first-child:before
  display: block
  position: absolute
  content: ' '
  width: 0
  height: 0
  border-top: 10px solid transparent
  border-bottom: 10px solid transparent
  border-right: 10px solid $tertiary-color
  left: -9px
  top: 17px

.user .bubble, .spinner.user
  float: right
  background: white
  color: #0976F2

.bot .bubble, .spinner.bot
  float: left
  background: $tertiary-color
  color: white

.spinner.bot, .spinner.user
  float: none
.spinner.bot
  left: 0
.spinner.user
  right: 0

.bot .bubble, .user .bubble
  max-width: 90%
  +breakpoint(medium)
    max-width: 75%
  +breakpoint(large)
    max-width: 66%

#inputblock
  input, a
    display: inline-block
    line-height: 1.4
    border-width: 0
  input
    width: calc(100% - 8rem)
    background: white
    color: $primary-color
    border-top-right-radius: 0
    border-bottom-right-radius: 0
    font-family: 'Space Mono', monospace
    font-weight: bold
  input:focus
    outline: none !important
  a
    width: 8rem
    color: $primary-color
    background: $secondary-color
    border-top-left-radius: 0
    border-bottom-left-radius: 0
    text-align: center
  .error
    padding:
      top: $grid-column-gutter
      bottom: $grid-column-gutter
      left: 24px
      font-weight: normal
